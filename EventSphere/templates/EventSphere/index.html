{% extends 'EventSphere/layout.html' %}

{% block title %}Home{% endblock %}

{% block content %}
<div class="color-shield">
    <div class="text-center">
        <h1 class="mb-4" style="margin-top: 150px; font-size: 5rem; color: black">WELCOME TO EVENTSPHERE</h1>
    </div>
    <style>
        .button-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 10px;
        }
    </style>
    <form>
        <input
            style="width: 500px ;
            height: 30px;
            border-radius: 30px ;
            display: flex ;
            border: solid 2px ;
            margin: 0 auto ;
            margin-top: 20px ;
            justify-content: center ;
            align-items: center ;"
            type="text" name="title">
        <div class="button-container">
            <input formaction="{% url 'search' %}" type="submit" value="Search Events">
        </div>
    </form>

    <hr class="my-5">

    <h2 class="text-center" style="margin:80px auto 90px">Upcoming Events</h2>
    <div class="d-flex flex-wrap justify-content-center gap-4 mt-4">
        {% for event in events %}
        <div class="mb-4" style="max-width: 350px; min-height: 250px; box-sizing: border-box;">
            <div class="card h-100">
                <img src="{{ event.Img }}" onerror="this.src='https://via.placeholder.com/400x200?text=No+Image';"
                    class="card-img-top" alt="{{ event.title }}"
                    style=" width: 100%; height: 150px; border-radius: 8px; object-fit: cover; aspect-ratio: 2/1;">
                <div class="card-body">
                    <h5 class="card-title">{{ event.title }}</h5>
                    <p class="card-text">{{ event.about|truncatewords:20 }}</p>
                    <p class="card-text">{{ event.category }}</p>
                    <p><strong>Date:</strong> {{ event.date|date:"d M Y" }}</p>
                    <a href="{% url 'eventDetails' event.id %}" class="btn btn-outline-primary">Details</a>
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-center">No events available at the moment.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
